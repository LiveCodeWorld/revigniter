<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv='expires' content='0' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />

<meta name="author" content="rabit" />
<meta name="publisher" content="softwaregestaltung.de Ralf Bitter" />
<meta name="copyright" content="copyright 2009 - 2013 softwaregestaltung.de Ralf Bitter" />
<meta name='description' content='revIgniter User Guide' />

<title>Error Handling : revIgniter User Guide</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
<script type="text/javascript" src="../js/nav.js"></script>

 



</head>
<body>

<!-- START PAGE HEAD -->
<div id="nav"><a name="top">&nbsp;</a>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>revIgniter User Guide Version 1.6.5</h1></td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="revigniter.com/userGuide/" />
Search User Guide&nbsp; <input type="search" placeholder="Search ..." name="q" id="q" class="revignitorsearch" accesskey="s" autosave="bsn_srch" results="5" />
&nbsp;<input type="image" id="submitSearch" src="../images/searchGo.gif" /></form></td>
</tr>
</table>
</div>
</div>
<!-- END PAGE HEAD -->


<!-- START BREADCRUMB -->
<div id="breadcrumbCont">

<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="http://revigniter.com/">revIgniter Home</a> &nbsp;&#8250;&nbsp;
<a href="../index.html">User Guide Home</a> &nbsp;&#8250;&nbsp;
Error Handling
</td>
<td id="breadcrumb_right"><a href="../toc.html">Table of Contents Page</a></td>
</tr>
</table>

</div>
<!-- END BREADCRUMB -->

<br clear="all" />


<!-- START SLIDEBOX -->
<div class="slide-panel top">
<div id="panelContent"><script type="text/javascript">create_menu('../');</script></div>
<div id="open-button" class="slide-button">Table of Contents</div>
<div id="close-button" class="slide-button">Close</div>
</div>
<!-- END SLIDEBOX -->


<!-- START CONTENT -->
<div id="content">

<h1>Error Handling</h1>

<p>revIgniter lets you build error reporting into your applications using the handlers described below.
In addition, it has an error logging library that permits error and debugging messages to be saved as text files.</p>

<p class="important"><strong>Note:</strong> By default, revIgniter displays all LiveCode errors.  You might
wish to change this behavior once your development is complete.  You'll find the <dfn>errorMode</dfn>
setting in the application/config/config.lc file. Disabling error reporting will NOT prevent log files
from being written if there are errors.</p>

<p>Error handlers are available globally throughout the application. These do not require loading any libraries or helpers</p>

<p>The following handlers let you generate errors:</p>

<h2>rigShowError "<var>message</var>" [, <var>statusCode</var> ]</h2>
<p>This handler will display the error message supplied to it using the following error template:</p>
<p><dfn>application/errors/</dfn><kbd>errorGeneral.lc</kbd></p>
<p>The optional parameter statusCode determines what HTTP status code should be sent with the error.</p>

<h2>rigShow404 "<var>page</var>"</h2>
<p>This handler will display the 404 error message supplied to it using the following error template:</p>
<p><dfn>application/errors/</dfn><kbd>error404.lc</kbd></p>

<p>The handler expects the string passed to it to be the file path to the page that isn't found.
Note that revIgniter automatically shows 404 messages if controllers are not found.</p>

<p class="important"><strong>Note:</strong>You can write your own 404 error controller using a routing rule overriding the default 404 error page. This won't affect to the rigShow404 handler, which will continue loading the default error404.lc file at system/application/errors/error404.lc. Please see the <a href="routing.html#reservedRoutes">URI Routing</a> section of the User Guide.</p>


<h2>rigLogMessage "<var>level</var>", "<samp>message</samp>", "<var>displayError</var>"</h2>

<p>This handler lets you write messages to your log files.  You must supply one of three "levels"
in the first parameter, indicating what type of message it is (debug, error, info), with the message
itself in the second parameter and a boolean in the optional third paramater, which indicates if the error should be displayed in an error page.  Example:</p>

<pre><code>if tSomeVar = "" then
	rigLogMessage "error", "Some variable did not contain a value."
else
	rigLogMessage "debug", "Some variable was correctly set."
end if

rigLogMessage "info", "The purpose of some variable is to provide some value."
</code></pre>

<p>There are three message types:</p>

<ol>
<li>Error Messages.  These are actual errors, such as user errors.</li>
<li>Debug Messages.  These are messages that assist in debugging. For example, if a library has been loaded, you could log this as debugging info.</li>
<li>Informational Messages.  These are the lowest priority messages, simply giving information regarding some process.  revIgniter doesn't natively generate any info messages but you may want to in your application.</li>
</ol>


<p class="important"><strong>Note:</strong> In order for the log file to actually be written, the
 "logs" folder must be writable.  In addition, you must set the "threshold" for logging.
You might, for example, only want error messages to be logged, and not the other two types.
If you set it to zero logging will be disabled.</p>


<h2>rigDoException <var>Contexts</var>, <var>CurrentFile</var>, <var>CurrentHandler</var></h2>

<p>Try Catch statement error reporting displaying an error page:</p>

<pre><code>try
	put 2 / 0 into tDivision
catch tContexts
	put "errortest.lc" into tCurrentFile
	put "index" into tCurrentHandler
	rigDoException tContexts, tCurrentFile, tCurrentHandler
end try
</code></pre>

<p>Where "errortest.lc" is the name of the controller file and "index" is the executing handler.</p>

<p class="important"><strong>Note:</strong> To send the error output to the browser the error logging threshold in config.lc must be set to 1 or higher. The rigDoException handler overrides the LiveCode errormode error handling.</p>


</div>
<!-- END CONTENT -->


<div id="footer">
<p>
Previous Topic:&nbsp;&nbsp;<a href="routing.html">URI Routing</a>
<span class="separator"> :: </span>
<a href="#top">Top of Page</a><span class="separator"> :: </span>
<a href="../index.html">User Guide Home</a><span class="separator"> :: </span>
Next Topic:&nbsp;&nbsp;<a href="caching.html">Page Caching</a>
</p>
<p><a href="http://revigniter.com/">revIgniter</a><span class="separator"> :: </span>Copyright &#169; 2009 - 2013<span class="separator"> :: </span><a href="http://www.softwaregestaltung.de/">dimensionB Bitter u. Bitter GmbH</a></p>
</div>

<script src="../js/jquery-1.8.3.min.js" type="text/javascript"></script>

<script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script>
  hljs.tabReplace = '    ';
  hljs.initHighlightingOnLoad();
  </script>

<script src="../js/script-ck.js" type="text/javascript"></script>
<script type="text/javascript">$(function() { Slidebox.init(); });</script>


</body>
</html>