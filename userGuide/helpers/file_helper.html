<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv='expires' content='0' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />

<meta name="author" content="rabit" />
<meta name="publisher" content="softwaregestaltung.de Ralf Bitter" />
<meta name="copyright" content="copyright 2009 - 2013 softwaregestaltung.de Ralf Bitter" />
<meta name='description' content='revIgniter User Guide' />

<title>File Helper : revIgniter User Guide</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
<script type="text/javascript" src="../js/nav.js"></script>

 



</head>
<body>

<!-- START PAGE HEAD -->
<div id="nav"><a name="top">&nbsp;</a>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>revIgniter User Guide Version 1.6.3</h1></td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="revigniter.com/userGuide/" />
Search User Guide&nbsp; <input type="search" placeholder="Search ..." name="q" id="q" class="revignitorsearch" accesskey="s" autosave="bsn_srch" results="5" />
&nbsp;<input type="image" id="submitSearch" src="../images/searchGo.gif" /></form></td>
</tr>
</table>
</div>
</div>
<!-- END PAGE HEAD -->


<!-- START BREADCRUMB -->
<div id="breadcrumbCont">

<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="http://revigniter.com/">revIgniter Home</a> &nbsp;&#8250;&nbsp;
<a href="../index.html">User Guide Home</a> &nbsp;&#8250;&nbsp;
File Helper
</td>
<td id="breadcrumb_right"><a href="../toc.html">Table of Contents Page</a></td>
</tr>
</table>

</div>
<!-- END BREADCRUMB -->

<br clear="all" />


<!-- START SLIDEBOX -->
<div class="slide-panel top">
<div id="panelContent"><script type="text/javascript">create_menu('../');</script></div>
<div id="open-button" class="slide-button">Table of Contents</div>
<div id="close-button" class="slide-button">Close</div>
</div>
<!-- END SLIDEBOX -->


<!-- START CONTENT -->
<div id="content">


<h1>File Helper</h1>

<p>The File Helper file contains functions that assist in working with files.</p>


<h2>Loading this Helper</h2>

<p>This helper is loaded using the following code:</p>
<pre><code>rigLoadHelper "file"</code></pre>

<p>The following handlers are available:</p>

<h2>rigReadFile("<var>path</var>")</h2>

<p>Returns the data contained in the file specified in the path with translated end-of-line markers.  Example:</p>

<pre><code>put rigReadFile("./path/to/file.lc") into tString</code></pre>

<p>The path can be a relative or full server path.  Returns FALSE (boolean) on failure.</p>

<p class="important"><strong>Note:</strong> The path is relative to your main site index.lc file, NOT your controller or view files.
revIgniter uses a front controller so paths are always relative to the main site index.</p>


<h2>rigReadBinFile("<var>path</var>")</h2>

<p>Same as above but without translation of end-of-line markers.</p>


<h2>rigWriteFile("<var>path</var>", <kbd>tData</kbd>)</h2>

<p>Writes data to the file specified in the path.  If the file does not exist the function will create it. Example:</p>

<pre><code>put "Some file data" into tData

if rigWriteFile("./path/to/file.lc", tData) is FALSE then
	put "Unable to write the file" into gData["writeResult"]
else
	put "File written!" into gData["writeResult"]
end if</code></pre>


<p>Note: In order for this function to write data to a file its file permissions must be set such that it is writable (666, 777, etc.).
If the file does not already exist, the directory containing it must be writable.</p>

<p class="important"><strong>Note:</strong> The path is relative to your main site index.lc file, NOT your controller or view files.
revIgniter uses a front controller so paths are always relative to the main site index.</p>

<h2>deleteFiles("<var>path</var>")</h2>

<p>Deletes aLL files contained in the supplied path.  Example:</p>
<pre><code>get deleteFiles("./path/to/directory/")</code></pre>

<p>If the second parameter is set to <kbd>TRUE</kbd>, any directories contained within the supplied root path will be deleted as well. Example:</p>

<pre><code>get deleteFiles("./path/to/directory/", TRUE)</code></pre>

<p>Use an optional third parameter to determine a name of files to be excluded.</p>

<p class="important"><strong>Note:</strong> The files must be writable or owned by the system in order to be deleted.</p>

<h2>rigGetFileNames("<var>path/to/directory/</var>")</h2>

<p>Takes a server path as input and returns an array containing the names of all files contained within it. The file path
can optionally be added to the file names by setting the second parameter to TRUE. Any sub-folders contained within the 
specified path are read as well if the third parameter is set to TRUE.</p>

<h2>rigGetDirFileInfo("<var>path/to/directory/</var>")</h2>

<p>Reads the specified directory and builds an array containing the filenames, filesize, dates, and permissions. The file path
can optionally be added to the file names by setting the second parameter to TRUE. Any sub-folders contained within the specified 
path are read as well if the third parameter is set to TRUE.</p>

<h2>rigGetFileInfo("<var>path/to/file</var>", <kbd>tFileInformation</kbd>)</h2>

<p>Given a file and path, returns the name, path, size, date modified as an array. Second parameter allows you to explicitly declare what information you want returned; options are: fileName, serverPath, fileSize, resourceSize, created, lastModified, lastAccessed, lastBackedUp, owner, groupOwner, permissions, fileType.
Returns FALSE if the file cannot be found.</p>


<h2>rigGetMimeByExtension("<var>file</var>")</h2>

<p>Translates a file extension into a mime type based on config/mimes.lc. Returns FALSE if it can't determine the type, or open the mime config file.</p>

<pre><code>put "somefile.png" into tFile
put tFile && "has a mime type of" && rigGetMimeByExtension(tFile) into gData["mimeType"]</code></pre>

<p class="important"><strong>Note:</strong> This is not an accurate way of determining file mime types, and is here strictly as a convenience. It should not be used for security.</p>

<h2>rigSymbolicPermissions(<kbd>tPerms</kbd>)</h2>

<p>Takes an octal value representing a file's permissions and returns standard symbolic notation of file permissions.</p>

<pre><code>put rigSymbolicPermissions(644) into tPerms

# rw-r--r--</code></pre>



</div>

<!-- END CONTENT -->


<div id="footer">
<p>
Previous Topic:&nbsp;&nbsp;<a href="email_helper.html">Email Helper</a>
<span class="separator"> :: </span>
<a href="#top">Top of Page</a><span class="separator"> :: </span>
<a href="../index.html">User Guide Home</a><span class="separator"> :: </span>
Next Topic:&nbsp;&nbsp;<a href="form_helper.html">Form Helper</a></p>
<p><a href="http://revigniter.com/">revIgniter</a><span class="separator"> :: </span>Copyright &#169; 2009 - 2013<span class="separator"> :: </span><a href="http://www.softwaregestaltung.de/">dimensionB Bitter u. Bitter GmbH</a></p>
</div>

<script src="../js/jquery-1.8.3.min.js" type="text/javascript"></script>

<script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script>
  hljs.tabReplace = '    ';
  hljs.initHighlightingOnLoad();
  </script>

<script src="../js/script-ck.js" type="text/javascript"></script>
<script type="text/javascript">$(function() { Slidebox.init(); });</script>


</body>
</html>