<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv='expires' content='0' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />

<meta name="author" content="rabit" />
<meta name="publisher" content="softwaregestaltung.de Ralf Bitter" />
<meta name="copyright" content="copyright 2009 - 2013 softwaregestaltung.de Ralf Bitter" />
<meta name='description' content='revIgniter User Guide' />

<title>QueryValues Plugin : revIgniter User Guide</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
<script type="text/javascript" src="../js/nav.js"></script>

 



</head>
<body>

<!-- START PAGE HEAD -->
<div id="nav"><a name="top">&nbsp;</a>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>revIgniter User Guide Version 1.6.5</h1></td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="revigniter.com/userGuide/" />
Search User Guide&nbsp; <input type="search" placeholder="Search ..." name="q" id="q" class="revignitorsearch" accesskey="s" autosave="bsn_srch" results="5" />
&nbsp;<input type="image" id="submitSearch" src="../images/searchGo.gif" /></form></td>
</tr>
</table>
</div>
</div>
<!-- END PAGE HEAD -->


<!-- START BREADCRUMB -->
<div id="breadcrumbCont">

<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="http://revigniter.com/">revIgniter Home</a> &nbsp;&#8250;&nbsp;
<a href="../index.html">User Guide Home</a> &nbsp;&#8250;&nbsp;
QueryValues Plugin
</td>
<td id="breadcrumb_right"><a href="../toc.html">Table of Contents Page</a></td>
</tr>
</table>

</div>
<!-- END BREADCRUMB -->

<br clear="all" />


<!-- START SLIDEBOX -->
<div class="slide-panel top">
<div id="panelContent"><script type="text/javascript">create_menu('../');</script></div>
<div id="open-button" class="slide-button">Table of Contents</div>
<div id="close-button" class="slide-button">Close</div>
</div>
<!-- END SLIDEBOX -->


<!-- START CONTENT -->
<div id="content">


<h1>QueryValues Plugin</h1>

<p>The QueryValues Plugin file contains a function for writing values or key value pairs of database query results.</p>


<h2>Loading this Plugin</h2>

<p>This plugin is loaded using the following code:</p>
<pre><code>rigLoadPlugin "queryvalues"</code></pre>

<p>The function:</p>

<h2>rigQueryValues(<var>pResult</var>, <var>pKeyValueDelimiter</var>, <var>pRecordDelimiter</var>, <var>pFieldnames</var>)</h2>

<p>The first parameter is a database query result. The second parameter defines the key value delimiter (defaults to " => "). The third parameter defines the record delimiter (defaults to ", "). If you leave the second and third parameters blank the default values are used. "&lt;>" as the second parameter specifies, that you want to omit the array keys and retrieve the values only. The optional fourth parameter is an array containing the field names of the database table. Example:</p>



<pre><code># MODEL DATABASE QUERY
put mymodelFetchAllData("recipe") into tQuery
put tQuery["resultarray"] into tResult

# DISPLAY RESULT ARRAY
put rigQueryValues(tResult) into gData["resultData"]
</code></pre>


<p>The output looks like this:</p>

<pre><code>1 => 1, 2 => Banana Bread, 3 => How to make banana bread.&lt;br />
1 => 2, 2 => Pancakes, 3 => How to make pancakes.&lt;br />
1 => 3, 2 => Chocolate Cake, 3 => How to make chocolate cake.&lt;br />
1 => 4, 2 => Pasta, 3 => How to make pasta.
</code></pre>


<p>Here is another example:</p>


<pre><code># MODEL DATABASE QUERY
put mymodelFetchAllData("recipe") into tQuery
put tQuery["resultarray"] into tResult
put tQuery["fieldnames"] into tFieldNames

# DISPLAY RESULT ARRAY
put rigQueryValues(tResult, , , tFieldNames) into gData["resultData"]
</code></pre>


<p>The output looks like this:</p>

<pre><code>ID => 1, Name => Banana Bread, Directions => How to make banana bread.&lt;br />
ID => 2, Name => Pancakes, Directions => How to make pancakes.&lt;br />
ID => 3, Name => Chocolate Cake, Directions => How to make chocolate cake.&lt;br />
ID => 4, Name => Pasta, Directions => How to make pasta.
</code></pre>


<p>This example shows how to retrieve the values only:</p>

<pre><code># MODEL DATABASE QUERY
put mymodelFetchAllData("recipe") into tQuery
put tQuery["resultarray"] into tResult

# DISPLAY RESULT ARRAY
put "&lt;>" into tKeyValueDelim
put " - " into tRecordDelim
put rigQueryValues(tResult, tKeyValueDelim, tRecordDelim) into gData["resultData"]
</code></pre>


<p>The output looks like this:</p>

<pre><code>1 - Banana Bread - How to make banana bread.&lt;br />
2 - Pancakes - How to make pancakes.&lt;br />
3 - Chocolate Cake - How to make chocolate cake.&lt;br />
4 - Pasta - How to make pasta.
</code></pre>


</div>
<!-- END CONTENT -->


<div id="footer">
<p>
Previous Topic:&nbsp;&nbsp;<a href="../plugins/querytojson_plugin.html">QueryToJSON Plugin</a>
<span class="separator"> :: </span>
<a href="#top">Top of Page</a><span class="separator"> :: </span>
<a href="../index.html">User Guide Home</a><span class="separator"> :: </span>
Next Topic:&nbsp;&nbsp;<a href="../plugins/sitelinks_plugin.html">SiteLinks Plugin</a>
</p>
<p><a href="http://revigniter.com/">revIgniter</a><span class="separator"> :: </span>Copyright &#169; 2009 - 2013<span class="separator"> :: </span><a href="http://www.softwaregestaltung.de/">dimensionB Bitter u. Bitter GmbH</a></p>
</div>

<script src="../js/jquery-1.8.3.min.js" type="text/javascript"></script>

<script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script>
  hljs.tabReplace = '    ';
  hljs.initHighlightingOnLoad();
  </script>

<script src="../js/script-ck.js" type="text/javascript"></script>
<script type="text/javascript">$(function() { Slidebox.init(); });</script>


</body>
</html>